using System;
using System.ComponentModel;
using System.Numerics;
using TaleWorlds.CampaignSystem.ViewModelCollection.WeaponCrafting;
using TaleWorlds.CampaignSystem.ViewModelCollection.WeaponCrafting.Refinement;
using TaleWorlds.GauntletUI;
using TaleWorlds.GauntletUI.BaseTypes;
using TaleWorlds.GauntletUI.Data;
using TaleWorlds.GauntletUI.Layout;
using TaleWorlds.Library;

namespace SandBox.GauntletUI.AutoGenerated1
{
	// Token: 0x02000094 RID: 148
	public class Crafting__TaleWorlds_CampaignSystem_ViewModelCollection_WeaponCrafting_CraftingVM_Dependency_26_ItemTemplate : ButtonWidget
	{
		// Token: 0x06002D0B RID: 11531 RVA: 0x00177266 File Offset: 0x00175466
		public Crafting__TaleWorlds_CampaignSystem_ViewModelCollection_WeaponCrafting_CraftingVM_Dependency_26_ItemTemplate(UIContext context) : base(context)
		{
		}

		// Token: 0x06002D0C RID: 11532 RVA: 0x00177270 File Offset: 0x00175470
		public void CreateWidgets()
		{
			this._widget = this;
			this._widget_0 = new ListPanel(base.Context);
			this._widget.AddChild(this._widget_0);
			this._widget_0_0 = new ListPanel(base.Context);
			this._widget_0.AddChild(this._widget_0_0);
			this._widget_0_1 = new Widget(base.Context);
			this._widget_0.AddChild(this._widget_0_1);
			this._widget_0_2 = new ListPanel(base.Context);
			this._widget_0.AddChild(this._widget_0_2);
		}

		// Token: 0x06002D0D RID: 11533 RVA: 0x0017730C File Offset: 0x0017550C
		public void SetIds()
		{
		}

		// Token: 0x06002D0E RID: 11534 RVA: 0x00177310 File Offset: 0x00175510
		public void SetAttributes()
		{
			base.DoNotPassEventsToChildren = true;
			base.WidthSizePolicy = SizePolicy.Fixed;
			base.HeightSizePolicy = SizePolicy.Fixed;
			base.SuggestedWidth = 567f;
			base.SuggestedHeight = 135f;
			base.Brush = base.Context.GetBrush("Refinement.Tuple");
			base.UpdateChildrenStates = true;
			base.MarginBottom = 0f;
			base.DoNotUseCustomScaleAndChildren = true;
			this._widget_0.WidthSizePolicy = SizePolicy.StretchToParent;
			this._widget_0.HeightSizePolicy = SizePolicy.StretchToParent;
			this._widget_0.HorizontalAlignment = HorizontalAlignment.Center;
			this._widget_0.MarginLeft = 15f;
			this._widget_0.MarginRight = 15f;
			this._widget_0_0.WidthSizePolicy = SizePolicy.StretchToParent;
			this._widget_0_0.HeightSizePolicy = SizePolicy.CoverChildren;
			this._widget_0_0.StackLayout.LayoutMethod = LayoutMethod.HorizontalRightToLeft;
			this._widget_0_0.VerticalAlignment = VerticalAlignment.Center;
			this._widget_0_1.WidthSizePolicy = SizePolicy.Fixed;
			this._widget_0_1.HeightSizePolicy = SizePolicy.Fixed;
			this._widget_0_1.SuggestedWidth = 57f;
			this._widget_0_1.SuggestedHeight = 17f;
			this._widget_0_1.VerticalAlignment = VerticalAlignment.Center;
			this._widget_0_1.MarginLeft = 15f;
			this._widget_0_1.MarginRight = 15f;
			this._widget_0_1.Sprite = base.Context.SpriteData.GetSprite("Crafting\\arrow");
			this._widget_0_2.WidthSizePolicy = SizePolicy.StretchToParent;
			this._widget_0_2.HeightSizePolicy = SizePolicy.CoverChildren;
			this._widget_0_2.VerticalAlignment = VerticalAlignment.Center;
		}

		// Token: 0x06002D0F RID: 11535 RVA: 0x00177498 File Offset: 0x00175698
		public void DestroyDataSource()
		{
			if (this._datasource_Root != null)
			{
				this._datasource_Root.PropertyChanged -= this.ViewModelPropertyChangedListenerOf_datasource_Root;
				this._datasource_Root.PropertyChangedWithValue -= this.ViewModelPropertyChangedWithValueListenerOf_datasource_Root;
				this._datasource_Root.PropertyChangedWithBoolValue -= this.ViewModelPropertyChangedWithBoolValueListenerOf_datasource_Root;
				this._datasource_Root.PropertyChangedWithIntValue -= this.ViewModelPropertyChangedWithIntValueListenerOf_datasource_Root;
				this._datasource_Root.PropertyChangedWithFloatValue -= this.ViewModelPropertyChangedWithFloatValueListenerOf_datasource_Root;
				this._datasource_Root.PropertyChangedWithUIntValue -= this.ViewModelPropertyChangedWithUIntValueListenerOf_datasource_Root;
				this._datasource_Root.PropertyChangedWithColorValue -= this.ViewModelPropertyChangedWithColorValueListenerOf_datasource_Root;
				this._datasource_Root.PropertyChangedWithDoubleValue -= this.ViewModelPropertyChangedWithDoubleValueListenerOf_datasource_Root;
				this._datasource_Root.PropertyChangedWithVec2Value -= this.ViewModelPropertyChangedWithVec2ValueListenerOf_datasource_Root;
				this._widget.EventFire -= this.EventListenerOf_widget;
				this._widget.PropertyChanged -= this.PropertyChangedListenerOf_widget;
				this._widget.boolPropertyChanged -= this.boolPropertyChangedListenerOf_widget;
				this._widget.floatPropertyChanged -= this.floatPropertyChangedListenerOf_widget;
				this._widget.Vec2PropertyChanged -= this.Vec2PropertyChangedListenerOf_widget;
				this._widget.Vector2PropertyChanged -= this.Vector2PropertyChangedListenerOf_widget;
				this._widget.doublePropertyChanged -= this.doublePropertyChangedListenerOf_widget;
				this._widget.intPropertyChanged -= this.intPropertyChangedListenerOf_widget;
				this._widget.uintPropertyChanged -= this.uintPropertyChangedListenerOf_widget;
				this._widget.ColorPropertyChanged -= this.ColorPropertyChangedListenerOf_widget;
				if (this._datasource_Root_InputMaterials != null)
				{
					this._datasource_Root_InputMaterials.ListChanged -= this.OnList_datasource_Root_InputMaterialsChanged;
					for (int i = this._widget_0_0.ChildCount - 1; i >= 0; i--)
					{
						Widget child = this._widget_0_0.GetChild(i);
						((Crafting__TaleWorlds_CampaignSystem_ViewModelCollection_WeaponCrafting_CraftingVM_Dependency_44_ItemTemplate)child).OnBeforeRemovedChild(child);
						((Crafting__TaleWorlds_CampaignSystem_ViewModelCollection_WeaponCrafting_CraftingVM_Dependency_44_ItemTemplate)this._widget_0_0.GetChild(i)).DestroyDataSource();
					}
					this._datasource_Root_InputMaterials = null;
				}
				if (this._datasource_Root_OutputMaterials != null)
				{
					this._datasource_Root_OutputMaterials.ListChanged -= this.OnList_datasource_Root_OutputMaterialsChanged;
					for (int j = this._widget_0_2.ChildCount - 1; j >= 0; j--)
					{
						Widget child2 = this._widget_0_2.GetChild(j);
						((Crafting__TaleWorlds_CampaignSystem_ViewModelCollection_WeaponCrafting_CraftingVM_Dependency_45_ItemTemplate)child2).OnBeforeRemovedChild(child2);
						((Crafting__TaleWorlds_CampaignSystem_ViewModelCollection_WeaponCrafting_CraftingVM_Dependency_45_ItemTemplate)this._widget_0_2.GetChild(j)).DestroyDataSource();
					}
					this._datasource_Root_OutputMaterials = null;
				}
				this._datasource_Root = null;
			}
		}

		// Token: 0x06002D10 RID: 11536 RVA: 0x00177746 File Offset: 0x00175946
		public void SetDataSource(RefinementActionItemVM dataSource)
		{
			this.RefreshDataSource_datasource_Root(dataSource);
		}

		// Token: 0x06002D11 RID: 11537 RVA: 0x0017774F File Offset: 0x0017594F
		private void EventListenerOf_widget(Widget widget, string commandName, object[] args)
		{
			if (commandName == "Click")
			{
				this._datasource_Root.ExecuteSelectAction();
			}
		}

		// Token: 0x06002D12 RID: 11538 RVA: 0x00177769 File Offset: 0x00175969
		private void PropertyChangedListenerOf_widget(PropertyOwnerObject propertyOwnerObject, string propertyName, object e)
		{
			this.HandleWidgetPropertyChangeOf_widget(propertyName);
		}

		// Token: 0x06002D13 RID: 11539 RVA: 0x00177772 File Offset: 0x00175972
		private void boolPropertyChangedListenerOf_widget(PropertyOwnerObject propertyOwnerObject, string propertyName, bool e)
		{
			this.HandleWidgetPropertyChangeOf_widget(propertyName);
		}

		// Token: 0x06002D14 RID: 11540 RVA: 0x0017777B File Offset: 0x0017597B
		private void floatPropertyChangedListenerOf_widget(PropertyOwnerObject propertyOwnerObject, string propertyName, float e)
		{
			this.HandleWidgetPropertyChangeOf_widget(propertyName);
		}

		// Token: 0x06002D15 RID: 11541 RVA: 0x00177784 File Offset: 0x00175984
		private void Vec2PropertyChangedListenerOf_widget(PropertyOwnerObject propertyOwnerObject, string propertyName, Vec2 e)
		{
			this.HandleWidgetPropertyChangeOf_widget(propertyName);
		}

		// Token: 0x06002D16 RID: 11542 RVA: 0x0017778D File Offset: 0x0017598D
		private void Vector2PropertyChangedListenerOf_widget(PropertyOwnerObject propertyOwnerObject, string propertyName, Vector2 e)
		{
			this.HandleWidgetPropertyChangeOf_widget(propertyName);
		}

		// Token: 0x06002D17 RID: 11543 RVA: 0x00177796 File Offset: 0x00175996
		private void doublePropertyChangedListenerOf_widget(PropertyOwnerObject propertyOwnerObject, string propertyName, double e)
		{
			this.HandleWidgetPropertyChangeOf_widget(propertyName);
		}

		// Token: 0x06002D18 RID: 11544 RVA: 0x0017779F File Offset: 0x0017599F
		private void intPropertyChangedListenerOf_widget(PropertyOwnerObject propertyOwnerObject, string propertyName, int e)
		{
			this.HandleWidgetPropertyChangeOf_widget(propertyName);
		}

		// Token: 0x06002D19 RID: 11545 RVA: 0x001777A8 File Offset: 0x001759A8
		private void uintPropertyChangedListenerOf_widget(PropertyOwnerObject propertyOwnerObject, string propertyName, uint e)
		{
			this.HandleWidgetPropertyChangeOf_widget(propertyName);
		}

		// Token: 0x06002D1A RID: 11546 RVA: 0x001777B1 File Offset: 0x001759B1
		private void ColorPropertyChangedListenerOf_widget(PropertyOwnerObject propertyOwnerObject, string propertyName, Color e)
		{
			this.HandleWidgetPropertyChangeOf_widget(propertyName);
		}

		// Token: 0x06002D1B RID: 11547 RVA: 0x001777BC File Offset: 0x001759BC
		private void HandleWidgetPropertyChangeOf_widget(string propertyName)
		{
			if (propertyName == "IsSelected")
			{
				this._datasource_Root.IsSelected = this._widget.IsSelected;
				return;
			}
			if (propertyName == "IsEnabled")
			{
				this._datasource_Root.IsEnabled = this._widget.IsEnabled;
				return;
			}
		}

		// Token: 0x06002D1C RID: 11548 RVA: 0x00177811 File Offset: 0x00175A11
		private void ViewModelPropertyChangedListenerOf_datasource_Root(object sender, PropertyChangedEventArgs e)
		{
			this.HandleViewModelPropertyChangeOf_datasource_Root(e.PropertyName);
		}

		// Token: 0x06002D1D RID: 11549 RVA: 0x0017781F File Offset: 0x00175A1F
		private void ViewModelPropertyChangedWithValueListenerOf_datasource_Root(object sender, PropertyChangedWithValueEventArgs e)
		{
			this.HandleViewModelPropertyChangeOf_datasource_Root(e.PropertyName);
		}

		// Token: 0x06002D1E RID: 11550 RVA: 0x0017782D File Offset: 0x00175A2D
		private void ViewModelPropertyChangedWithBoolValueListenerOf_datasource_Root(object sender, PropertyChangedWithBoolValueEventArgs e)
		{
			this.HandleViewModelPropertyChangeOf_datasource_Root(e.PropertyName);
		}

		// Token: 0x06002D1F RID: 11551 RVA: 0x0017783B File Offset: 0x00175A3B
		private void ViewModelPropertyChangedWithIntValueListenerOf_datasource_Root(object sender, PropertyChangedWithIntValueEventArgs e)
		{
			this.HandleViewModelPropertyChangeOf_datasource_Root(e.PropertyName);
		}

		// Token: 0x06002D20 RID: 11552 RVA: 0x00177849 File Offset: 0x00175A49
		private void ViewModelPropertyChangedWithFloatValueListenerOf_datasource_Root(object sender, PropertyChangedWithFloatValueEventArgs e)
		{
			this.HandleViewModelPropertyChangeOf_datasource_Root(e.PropertyName);
		}

		// Token: 0x06002D21 RID: 11553 RVA: 0x00177857 File Offset: 0x00175A57
		private void ViewModelPropertyChangedWithUIntValueListenerOf_datasource_Root(object sender, PropertyChangedWithUIntValueEventArgs e)
		{
			this.HandleViewModelPropertyChangeOf_datasource_Root(e.PropertyName);
		}

		// Token: 0x06002D22 RID: 11554 RVA: 0x00177865 File Offset: 0x00175A65
		private void ViewModelPropertyChangedWithColorValueListenerOf_datasource_Root(object sender, PropertyChangedWithColorValueEventArgs e)
		{
			this.HandleViewModelPropertyChangeOf_datasource_Root(e.PropertyName);
		}

		// Token: 0x06002D23 RID: 11555 RVA: 0x00177873 File Offset: 0x00175A73
		private void ViewModelPropertyChangedWithDoubleValueListenerOf_datasource_Root(object sender, PropertyChangedWithDoubleValueEventArgs e)
		{
			this.HandleViewModelPropertyChangeOf_datasource_Root(e.PropertyName);
		}

		// Token: 0x06002D24 RID: 11556 RVA: 0x00177881 File Offset: 0x00175A81
		private void ViewModelPropertyChangedWithVec2ValueListenerOf_datasource_Root(object sender, PropertyChangedWithVec2ValueEventArgs e)
		{
			this.HandleViewModelPropertyChangeOf_datasource_Root(e.PropertyName);
		}

		// Token: 0x06002D25 RID: 11557 RVA: 0x00177890 File Offset: 0x00175A90
		private void HandleViewModelPropertyChangeOf_datasource_Root(string propertyName)
		{
			if (propertyName == "InputMaterials")
			{
				this.RefreshDataSource_datasource_Root_InputMaterials(this._datasource_Root.InputMaterials);
				return;
			}
			if (propertyName == "OutputMaterials")
			{
				this.RefreshDataSource_datasource_Root_OutputMaterials(this._datasource_Root.OutputMaterials);
				return;
			}
			if (propertyName == "IsSelected")
			{
				this._widget.IsSelected = this._datasource_Root.IsSelected;
				return;
			}
			if (propertyName == "IsEnabled")
			{
				this._widget.IsEnabled = this._datasource_Root.IsEnabled;
				return;
			}
		}

		// Token: 0x06002D26 RID: 11558 RVA: 0x00177924 File Offset: 0x00175B24
		public void OnList_datasource_Root_InputMaterialsChanged(object sender, ListChangedEventArgs e)
		{
			switch (e.ListChangedType)
			{
			case ListChangedType.Reset:
				for (int i = this._widget_0_0.ChildCount - 1; i >= 0; i--)
				{
					Widget child = this._widget_0_0.GetChild(i);
					((Crafting__TaleWorlds_CampaignSystem_ViewModelCollection_WeaponCrafting_CraftingVM_Dependency_44_ItemTemplate)child).OnBeforeRemovedChild(child);
					Widget child2 = this._widget_0_0.GetChild(i);
					((Crafting__TaleWorlds_CampaignSystem_ViewModelCollection_WeaponCrafting_CraftingVM_Dependency_44_ItemTemplate)child2).SetDataSource(null);
					this._widget_0_0.RemoveChild(child2);
				}
				return;
			case ListChangedType.Sorted:
				for (int j = 0; j < this._datasource_Root_InputMaterials.Count; j++)
				{
					CraftingResourceItemVM bindingObject = this._datasource_Root_InputMaterials[j];
					this._widget_0_0.FindChild((Widget widget) => widget.GetComponent<GeneratedWidgetData>().Data == bindingObject).SetSiblingIndex(j, false);
				}
				return;
			case ListChangedType.ItemAdded:
			{
				Crafting__TaleWorlds_CampaignSystem_ViewModelCollection_WeaponCrafting_CraftingVM_Dependency_44_ItemTemplate crafting__TaleWorlds_CampaignSystem_ViewModelCollection_WeaponCrafting_CraftingVM_Dependency_44_ItemTemplate = new Crafting__TaleWorlds_CampaignSystem_ViewModelCollection_WeaponCrafting_CraftingVM_Dependency_44_ItemTemplate(base.Context);
				GeneratedWidgetData generatedWidgetData = new GeneratedWidgetData(crafting__TaleWorlds_CampaignSystem_ViewModelCollection_WeaponCrafting_CraftingVM_Dependency_44_ItemTemplate);
				CraftingResourceItemVM craftingResourceItemVM = this._datasource_Root_InputMaterials[e.NewIndex];
				generatedWidgetData.Data = craftingResourceItemVM;
				crafting__TaleWorlds_CampaignSystem_ViewModelCollection_WeaponCrafting_CraftingVM_Dependency_44_ItemTemplate.AddComponent(generatedWidgetData);
				this._widget_0_0.AddChildAtIndex(crafting__TaleWorlds_CampaignSystem_ViewModelCollection_WeaponCrafting_CraftingVM_Dependency_44_ItemTemplate, e.NewIndex);
				crafting__TaleWorlds_CampaignSystem_ViewModelCollection_WeaponCrafting_CraftingVM_Dependency_44_ItemTemplate.CreateWidgets();
				crafting__TaleWorlds_CampaignSystem_ViewModelCollection_WeaponCrafting_CraftingVM_Dependency_44_ItemTemplate.SetIds();
				crafting__TaleWorlds_CampaignSystem_ViewModelCollection_WeaponCrafting_CraftingVM_Dependency_44_ItemTemplate.SetAttributes();
				crafting__TaleWorlds_CampaignSystem_ViewModelCollection_WeaponCrafting_CraftingVM_Dependency_44_ItemTemplate.SetDataSource(craftingResourceItemVM);
				return;
			}
			case ListChangedType.ItemBeforeDeleted:
			{
				Widget child3 = this._widget_0_0.GetChild(e.NewIndex);
				((Crafting__TaleWorlds_CampaignSystem_ViewModelCollection_WeaponCrafting_CraftingVM_Dependency_44_ItemTemplate)child3).OnBeforeRemovedChild(child3);
				return;
			}
			case ListChangedType.ItemDeleted:
			{
				Widget child4 = this._widget_0_0.GetChild(e.NewIndex);
				((Crafting__TaleWorlds_CampaignSystem_ViewModelCollection_WeaponCrafting_CraftingVM_Dependency_44_ItemTemplate)child4).SetDataSource(null);
				this._widget_0_0.RemoveChild(child4);
				break;
			}
			case ListChangedType.ItemChanged:
				break;
			default:
				return;
			}
		}

		// Token: 0x06002D27 RID: 11559 RVA: 0x00177AC0 File Offset: 0x00175CC0
		public void OnList_datasource_Root_OutputMaterialsChanged(object sender, ListChangedEventArgs e)
		{
			switch (e.ListChangedType)
			{
			case ListChangedType.Reset:
				for (int i = this._widget_0_2.ChildCount - 1; i >= 0; i--)
				{
					Widget child = this._widget_0_2.GetChild(i);
					((Crafting__TaleWorlds_CampaignSystem_ViewModelCollection_WeaponCrafting_CraftingVM_Dependency_45_ItemTemplate)child).OnBeforeRemovedChild(child);
					Widget child2 = this._widget_0_2.GetChild(i);
					((Crafting__TaleWorlds_CampaignSystem_ViewModelCollection_WeaponCrafting_CraftingVM_Dependency_45_ItemTemplate)child2).SetDataSource(null);
					this._widget_0_2.RemoveChild(child2);
				}
				return;
			case ListChangedType.Sorted:
				for (int j = 0; j < this._datasource_Root_OutputMaterials.Count; j++)
				{
					CraftingResourceItemVM bindingObject = this._datasource_Root_OutputMaterials[j];
					this._widget_0_2.FindChild((Widget widget) => widget.GetComponent<GeneratedWidgetData>().Data == bindingObject).SetSiblingIndex(j, false);
				}
				return;
			case ListChangedType.ItemAdded:
			{
				Crafting__TaleWorlds_CampaignSystem_ViewModelCollection_WeaponCrafting_CraftingVM_Dependency_45_ItemTemplate crafting__TaleWorlds_CampaignSystem_ViewModelCollection_WeaponCrafting_CraftingVM_Dependency_45_ItemTemplate = new Crafting__TaleWorlds_CampaignSystem_ViewModelCollection_WeaponCrafting_CraftingVM_Dependency_45_ItemTemplate(base.Context);
				GeneratedWidgetData generatedWidgetData = new GeneratedWidgetData(crafting__TaleWorlds_CampaignSystem_ViewModelCollection_WeaponCrafting_CraftingVM_Dependency_45_ItemTemplate);
				CraftingResourceItemVM craftingResourceItemVM = this._datasource_Root_OutputMaterials[e.NewIndex];
				generatedWidgetData.Data = craftingResourceItemVM;
				crafting__TaleWorlds_CampaignSystem_ViewModelCollection_WeaponCrafting_CraftingVM_Dependency_45_ItemTemplate.AddComponent(generatedWidgetData);
				this._widget_0_2.AddChildAtIndex(crafting__TaleWorlds_CampaignSystem_ViewModelCollection_WeaponCrafting_CraftingVM_Dependency_45_ItemTemplate, e.NewIndex);
				crafting__TaleWorlds_CampaignSystem_ViewModelCollection_WeaponCrafting_CraftingVM_Dependency_45_ItemTemplate.CreateWidgets();
				crafting__TaleWorlds_CampaignSystem_ViewModelCollection_WeaponCrafting_CraftingVM_Dependency_45_ItemTemplate.SetIds();
				crafting__TaleWorlds_CampaignSystem_ViewModelCollection_WeaponCrafting_CraftingVM_Dependency_45_ItemTemplate.SetAttributes();
				crafting__TaleWorlds_CampaignSystem_ViewModelCollection_WeaponCrafting_CraftingVM_Dependency_45_ItemTemplate.SetDataSource(craftingResourceItemVM);
				return;
			}
			case ListChangedType.ItemBeforeDeleted:
			{
				Widget child3 = this._widget_0_2.GetChild(e.NewIndex);
				((Crafting__TaleWorlds_CampaignSystem_ViewModelCollection_WeaponCrafting_CraftingVM_Dependency_45_ItemTemplate)child3).OnBeforeRemovedChild(child3);
				return;
			}
			case ListChangedType.ItemDeleted:
			{
				Widget child4 = this._widget_0_2.GetChild(e.NewIndex);
				((Crafting__TaleWorlds_CampaignSystem_ViewModelCollection_WeaponCrafting_CraftingVM_Dependency_45_ItemTemplate)child4).SetDataSource(null);
				this._widget_0_2.RemoveChild(child4);
				break;
			}
			case ListChangedType.ItemChanged:
				break;
			default:
				return;
			}
		}

		// Token: 0x06002D28 RID: 11560 RVA: 0x00177C5C File Offset: 0x00175E5C
		private void RefreshDataSource_datasource_Root(RefinementActionItemVM newDataSource)
		{
			if (this._datasource_Root != null)
			{
				this._datasource_Root.PropertyChanged -= this.ViewModelPropertyChangedListenerOf_datasource_Root;
				this._datasource_Root.PropertyChangedWithValue -= this.ViewModelPropertyChangedWithValueListenerOf_datasource_Root;
				this._datasource_Root.PropertyChangedWithBoolValue -= this.ViewModelPropertyChangedWithBoolValueListenerOf_datasource_Root;
				this._datasource_Root.PropertyChangedWithIntValue -= this.ViewModelPropertyChangedWithIntValueListenerOf_datasource_Root;
				this._datasource_Root.PropertyChangedWithFloatValue -= this.ViewModelPropertyChangedWithFloatValueListenerOf_datasource_Root;
				this._datasource_Root.PropertyChangedWithUIntValue -= this.ViewModelPropertyChangedWithUIntValueListenerOf_datasource_Root;
				this._datasource_Root.PropertyChangedWithColorValue -= this.ViewModelPropertyChangedWithColorValueListenerOf_datasource_Root;
				this._datasource_Root.PropertyChangedWithDoubleValue -= this.ViewModelPropertyChangedWithDoubleValueListenerOf_datasource_Root;
				this._datasource_Root.PropertyChangedWithVec2Value -= this.ViewModelPropertyChangedWithVec2ValueListenerOf_datasource_Root;
				this._widget.EventFire -= this.EventListenerOf_widget;
				this._widget.PropertyChanged -= this.PropertyChangedListenerOf_widget;
				this._widget.boolPropertyChanged -= this.boolPropertyChangedListenerOf_widget;
				this._widget.floatPropertyChanged -= this.floatPropertyChangedListenerOf_widget;
				this._widget.Vec2PropertyChanged -= this.Vec2PropertyChangedListenerOf_widget;
				this._widget.Vector2PropertyChanged -= this.Vector2PropertyChangedListenerOf_widget;
				this._widget.doublePropertyChanged -= this.doublePropertyChangedListenerOf_widget;
				this._widget.intPropertyChanged -= this.intPropertyChangedListenerOf_widget;
				this._widget.uintPropertyChanged -= this.uintPropertyChangedListenerOf_widget;
				this._widget.ColorPropertyChanged -= this.ColorPropertyChangedListenerOf_widget;
				if (this._datasource_Root_InputMaterials != null)
				{
					this._datasource_Root_InputMaterials.ListChanged -= this.OnList_datasource_Root_InputMaterialsChanged;
					for (int i = this._widget_0_0.ChildCount - 1; i >= 0; i--)
					{
						Widget child = this._widget_0_0.GetChild(i);
						((Crafting__TaleWorlds_CampaignSystem_ViewModelCollection_WeaponCrafting_CraftingVM_Dependency_44_ItemTemplate)child).OnBeforeRemovedChild(child);
						Widget child2 = this._widget_0_0.GetChild(i);
						((Crafting__TaleWorlds_CampaignSystem_ViewModelCollection_WeaponCrafting_CraftingVM_Dependency_44_ItemTemplate)child2).SetDataSource(null);
						this._widget_0_0.RemoveChild(child2);
					}
					this._datasource_Root_InputMaterials = null;
				}
				if (this._datasource_Root_OutputMaterials != null)
				{
					this._datasource_Root_OutputMaterials.ListChanged -= this.OnList_datasource_Root_OutputMaterialsChanged;
					for (int j = this._widget_0_2.ChildCount - 1; j >= 0; j--)
					{
						Widget child3 = this._widget_0_2.GetChild(j);
						((Crafting__TaleWorlds_CampaignSystem_ViewModelCollection_WeaponCrafting_CraftingVM_Dependency_45_ItemTemplate)child3).OnBeforeRemovedChild(child3);
						Widget child4 = this._widget_0_2.GetChild(j);
						((Crafting__TaleWorlds_CampaignSystem_ViewModelCollection_WeaponCrafting_CraftingVM_Dependency_45_ItemTemplate)child4).SetDataSource(null);
						this._widget_0_2.RemoveChild(child4);
					}
					this._datasource_Root_OutputMaterials = null;
				}
				this._datasource_Root = null;
			}
			this._datasource_Root = newDataSource;
			if (this._datasource_Root != null)
			{
				this._datasource_Root.PropertyChanged += this.ViewModelPropertyChangedListenerOf_datasource_Root;
				this._datasource_Root.PropertyChangedWithValue += this.ViewModelPropertyChangedWithValueListenerOf_datasource_Root;
				this._datasource_Root.PropertyChangedWithBoolValue += this.ViewModelPropertyChangedWithBoolValueListenerOf_datasource_Root;
				this._datasource_Root.PropertyChangedWithIntValue += this.ViewModelPropertyChangedWithIntValueListenerOf_datasource_Root;
				this._datasource_Root.PropertyChangedWithFloatValue += this.ViewModelPropertyChangedWithFloatValueListenerOf_datasource_Root;
				this._datasource_Root.PropertyChangedWithUIntValue += this.ViewModelPropertyChangedWithUIntValueListenerOf_datasource_Root;
				this._datasource_Root.PropertyChangedWithColorValue += this.ViewModelPropertyChangedWithColorValueListenerOf_datasource_Root;
				this._datasource_Root.PropertyChangedWithDoubleValue += this.ViewModelPropertyChangedWithDoubleValueListenerOf_datasource_Root;
				this._datasource_Root.PropertyChangedWithVec2Value += this.ViewModelPropertyChangedWithVec2ValueListenerOf_datasource_Root;
				this._widget.IsSelected = this._datasource_Root.IsSelected;
				this._widget.IsEnabled = this._datasource_Root.IsEnabled;
				this._widget.EventFire += this.EventListenerOf_widget;
				this._widget.PropertyChanged += this.PropertyChangedListenerOf_widget;
				this._widget.boolPropertyChanged += this.boolPropertyChangedListenerOf_widget;
				this._widget.floatPropertyChanged += this.floatPropertyChangedListenerOf_widget;
				this._widget.Vec2PropertyChanged += this.Vec2PropertyChangedListenerOf_widget;
				this._widget.Vector2PropertyChanged += this.Vector2PropertyChangedListenerOf_widget;
				this._widget.doublePropertyChanged += this.doublePropertyChangedListenerOf_widget;
				this._widget.intPropertyChanged += this.intPropertyChangedListenerOf_widget;
				this._widget.uintPropertyChanged += this.uintPropertyChangedListenerOf_widget;
				this._widget.ColorPropertyChanged += this.ColorPropertyChangedListenerOf_widget;
				this._datasource_Root_InputMaterials = this._datasource_Root.InputMaterials;
				if (this._datasource_Root_InputMaterials != null)
				{
					this._datasource_Root_InputMaterials.ListChanged += this.OnList_datasource_Root_InputMaterialsChanged;
					for (int k = 0; k < this._datasource_Root_InputMaterials.Count; k++)
					{
						Crafting__TaleWorlds_CampaignSystem_ViewModelCollection_WeaponCrafting_CraftingVM_Dependency_44_ItemTemplate crafting__TaleWorlds_CampaignSystem_ViewModelCollection_WeaponCrafting_CraftingVM_Dependency_44_ItemTemplate = new Crafting__TaleWorlds_CampaignSystem_ViewModelCollection_WeaponCrafting_CraftingVM_Dependency_44_ItemTemplate(base.Context);
						GeneratedWidgetData generatedWidgetData = new GeneratedWidgetData(crafting__TaleWorlds_CampaignSystem_ViewModelCollection_WeaponCrafting_CraftingVM_Dependency_44_ItemTemplate);
						CraftingResourceItemVM craftingResourceItemVM = this._datasource_Root_InputMaterials[k];
						generatedWidgetData.Data = craftingResourceItemVM;
						crafting__TaleWorlds_CampaignSystem_ViewModelCollection_WeaponCrafting_CraftingVM_Dependency_44_ItemTemplate.AddComponent(generatedWidgetData);
						this._widget_0_0.AddChildAtIndex(crafting__TaleWorlds_CampaignSystem_ViewModelCollection_WeaponCrafting_CraftingVM_Dependency_44_ItemTemplate, k);
						crafting__TaleWorlds_CampaignSystem_ViewModelCollection_WeaponCrafting_CraftingVM_Dependency_44_ItemTemplate.CreateWidgets();
						crafting__TaleWorlds_CampaignSystem_ViewModelCollection_WeaponCrafting_CraftingVM_Dependency_44_ItemTemplate.SetIds();
						crafting__TaleWorlds_CampaignSystem_ViewModelCollection_WeaponCrafting_CraftingVM_Dependency_44_ItemTemplate.SetAttributes();
						crafting__TaleWorlds_CampaignSystem_ViewModelCollection_WeaponCrafting_CraftingVM_Dependency_44_ItemTemplate.SetDataSource(craftingResourceItemVM);
					}
				}
				this._datasource_Root_OutputMaterials = this._datasource_Root.OutputMaterials;
				if (this._datasource_Root_OutputMaterials != null)
				{
					this._datasource_Root_OutputMaterials.ListChanged += this.OnList_datasource_Root_OutputMaterialsChanged;
					for (int l = 0; l < this._datasource_Root_OutputMaterials.Count; l++)
					{
						Crafting__TaleWorlds_CampaignSystem_ViewModelCollection_WeaponCrafting_CraftingVM_Dependency_45_ItemTemplate crafting__TaleWorlds_CampaignSystem_ViewModelCollection_WeaponCrafting_CraftingVM_Dependency_45_ItemTemplate = new Crafting__TaleWorlds_CampaignSystem_ViewModelCollection_WeaponCrafting_CraftingVM_Dependency_45_ItemTemplate(base.Context);
						GeneratedWidgetData generatedWidgetData2 = new GeneratedWidgetData(crafting__TaleWorlds_CampaignSystem_ViewModelCollection_WeaponCrafting_CraftingVM_Dependency_45_ItemTemplate);
						CraftingResourceItemVM craftingResourceItemVM2 = this._datasource_Root_OutputMaterials[l];
						generatedWidgetData2.Data = craftingResourceItemVM2;
						crafting__TaleWorlds_CampaignSystem_ViewModelCollection_WeaponCrafting_CraftingVM_Dependency_45_ItemTemplate.AddComponent(generatedWidgetData2);
						this._widget_0_2.AddChildAtIndex(crafting__TaleWorlds_CampaignSystem_ViewModelCollection_WeaponCrafting_CraftingVM_Dependency_45_ItemTemplate, l);
						crafting__TaleWorlds_CampaignSystem_ViewModelCollection_WeaponCrafting_CraftingVM_Dependency_45_ItemTemplate.CreateWidgets();
						crafting__TaleWorlds_CampaignSystem_ViewModelCollection_WeaponCrafting_CraftingVM_Dependency_45_ItemTemplate.SetIds();
						crafting__TaleWorlds_CampaignSystem_ViewModelCollection_WeaponCrafting_CraftingVM_Dependency_45_ItemTemplate.SetAttributes();
						crafting__TaleWorlds_CampaignSystem_ViewModelCollection_WeaponCrafting_CraftingVM_Dependency_45_ItemTemplate.SetDataSource(craftingResourceItemVM2);
					}
				}
			}
		}

		// Token: 0x06002D29 RID: 11561 RVA: 0x00178284 File Offset: 0x00176484
		private void RefreshDataSource_datasource_Root_InputMaterials(MBBindingList<CraftingResourceItemVM> newDataSource)
		{
			if (this._datasource_Root_InputMaterials != null)
			{
				this._datasource_Root_InputMaterials.ListChanged -= this.OnList_datasource_Root_InputMaterialsChanged;
				for (int i = this._widget_0_0.ChildCount - 1; i >= 0; i--)
				{
					Widget child = this._widget_0_0.GetChild(i);
					((Crafting__TaleWorlds_CampaignSystem_ViewModelCollection_WeaponCrafting_CraftingVM_Dependency_44_ItemTemplate)child).OnBeforeRemovedChild(child);
					Widget child2 = this._widget_0_0.GetChild(i);
					((Crafting__TaleWorlds_CampaignSystem_ViewModelCollection_WeaponCrafting_CraftingVM_Dependency_44_ItemTemplate)child2).SetDataSource(null);
					this._widget_0_0.RemoveChild(child2);
				}
				this._datasource_Root_InputMaterials = null;
			}
			this._datasource_Root_InputMaterials = newDataSource;
			this._datasource_Root_InputMaterials = this._datasource_Root.InputMaterials;
			if (this._datasource_Root_InputMaterials != null)
			{
				this._datasource_Root_InputMaterials.ListChanged += this.OnList_datasource_Root_InputMaterialsChanged;
				for (int j = 0; j < this._datasource_Root_InputMaterials.Count; j++)
				{
					Crafting__TaleWorlds_CampaignSystem_ViewModelCollection_WeaponCrafting_CraftingVM_Dependency_44_ItemTemplate crafting__TaleWorlds_CampaignSystem_ViewModelCollection_WeaponCrafting_CraftingVM_Dependency_44_ItemTemplate = new Crafting__TaleWorlds_CampaignSystem_ViewModelCollection_WeaponCrafting_CraftingVM_Dependency_44_ItemTemplate(base.Context);
					GeneratedWidgetData generatedWidgetData = new GeneratedWidgetData(crafting__TaleWorlds_CampaignSystem_ViewModelCollection_WeaponCrafting_CraftingVM_Dependency_44_ItemTemplate);
					CraftingResourceItemVM craftingResourceItemVM = this._datasource_Root_InputMaterials[j];
					generatedWidgetData.Data = craftingResourceItemVM;
					crafting__TaleWorlds_CampaignSystem_ViewModelCollection_WeaponCrafting_CraftingVM_Dependency_44_ItemTemplate.AddComponent(generatedWidgetData);
					this._widget_0_0.AddChildAtIndex(crafting__TaleWorlds_CampaignSystem_ViewModelCollection_WeaponCrafting_CraftingVM_Dependency_44_ItemTemplate, j);
					crafting__TaleWorlds_CampaignSystem_ViewModelCollection_WeaponCrafting_CraftingVM_Dependency_44_ItemTemplate.CreateWidgets();
					crafting__TaleWorlds_CampaignSystem_ViewModelCollection_WeaponCrafting_CraftingVM_Dependency_44_ItemTemplate.SetIds();
					crafting__TaleWorlds_CampaignSystem_ViewModelCollection_WeaponCrafting_CraftingVM_Dependency_44_ItemTemplate.SetAttributes();
					crafting__TaleWorlds_CampaignSystem_ViewModelCollection_WeaponCrafting_CraftingVM_Dependency_44_ItemTemplate.SetDataSource(craftingResourceItemVM);
				}
			}
		}

		// Token: 0x06002D2A RID: 11562 RVA: 0x001783C0 File Offset: 0x001765C0
		private void RefreshDataSource_datasource_Root_OutputMaterials(MBBindingList<CraftingResourceItemVM> newDataSource)
		{
			if (this._datasource_Root_OutputMaterials != null)
			{
				this._datasource_Root_OutputMaterials.ListChanged -= this.OnList_datasource_Root_OutputMaterialsChanged;
				for (int i = this._widget_0_2.ChildCount - 1; i >= 0; i--)
				{
					Widget child = this._widget_0_2.GetChild(i);
					((Crafting__TaleWorlds_CampaignSystem_ViewModelCollection_WeaponCrafting_CraftingVM_Dependency_45_ItemTemplate)child).OnBeforeRemovedChild(child);
					Widget child2 = this._widget_0_2.GetChild(i);
					((Crafting__TaleWorlds_CampaignSystem_ViewModelCollection_WeaponCrafting_CraftingVM_Dependency_45_ItemTemplate)child2).SetDataSource(null);
					this._widget_0_2.RemoveChild(child2);
				}
				this._datasource_Root_OutputMaterials = null;
			}
			this._datasource_Root_OutputMaterials = newDataSource;
			this._datasource_Root_OutputMaterials = this._datasource_Root.OutputMaterials;
			if (this._datasource_Root_OutputMaterials != null)
			{
				this._datasource_Root_OutputMaterials.ListChanged += this.OnList_datasource_Root_OutputMaterialsChanged;
				for (int j = 0; j < this._datasource_Root_OutputMaterials.Count; j++)
				{
					Crafting__TaleWorlds_CampaignSystem_ViewModelCollection_WeaponCrafting_CraftingVM_Dependency_45_ItemTemplate crafting__TaleWorlds_CampaignSystem_ViewModelCollection_WeaponCrafting_CraftingVM_Dependency_45_ItemTemplate = new Crafting__TaleWorlds_CampaignSystem_ViewModelCollection_WeaponCrafting_CraftingVM_Dependency_45_ItemTemplate(base.Context);
					GeneratedWidgetData generatedWidgetData = new GeneratedWidgetData(crafting__TaleWorlds_CampaignSystem_ViewModelCollection_WeaponCrafting_CraftingVM_Dependency_45_ItemTemplate);
					CraftingResourceItemVM craftingResourceItemVM = this._datasource_Root_OutputMaterials[j];
					generatedWidgetData.Data = craftingResourceItemVM;
					crafting__TaleWorlds_CampaignSystem_ViewModelCollection_WeaponCrafting_CraftingVM_Dependency_45_ItemTemplate.AddComponent(generatedWidgetData);
					this._widget_0_2.AddChildAtIndex(crafting__TaleWorlds_CampaignSystem_ViewModelCollection_WeaponCrafting_CraftingVM_Dependency_45_ItemTemplate, j);
					crafting__TaleWorlds_CampaignSystem_ViewModelCollection_WeaponCrafting_CraftingVM_Dependency_45_ItemTemplate.CreateWidgets();
					crafting__TaleWorlds_CampaignSystem_ViewModelCollection_WeaponCrafting_CraftingVM_Dependency_45_ItemTemplate.SetIds();
					crafting__TaleWorlds_CampaignSystem_ViewModelCollection_WeaponCrafting_CraftingVM_Dependency_45_ItemTemplate.SetAttributes();
					crafting__TaleWorlds_CampaignSystem_ViewModelCollection_WeaponCrafting_CraftingVM_Dependency_45_ItemTemplate.SetDataSource(craftingResourceItemVM);
				}
			}
		}

		// Token: 0x040009D2 RID: 2514
		private ButtonWidget _widget;

		// Token: 0x040009D3 RID: 2515
		private ListPanel _widget_0;

		// Token: 0x040009D4 RID: 2516
		private ListPanel _widget_0_0;

		// Token: 0x040009D5 RID: 2517
		private Widget _widget_0_1;

		// Token: 0x040009D6 RID: 2518
		private ListPanel _widget_0_2;

		// Token: 0x040009D7 RID: 2519
		private RefinementActionItemVM _datasource_Root;

		// Token: 0x040009D8 RID: 2520
		private MBBindingList<CraftingResourceItemVM> _datasource_Root_InputMaterials;

		// Token: 0x040009D9 RID: 2521
		private MBBindingList<CraftingResourceItemVM> _datasource_Root_OutputMaterials;
	}
}
