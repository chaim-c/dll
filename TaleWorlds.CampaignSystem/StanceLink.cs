using System;
using System.Collections.Generic;
using TaleWorlds.SaveSystem;

namespace TaleWorlds.CampaignSystem
{
	// Token: 0x0200006B RID: 107
	public class StanceLink
	{
		// Token: 0x06000E2A RID: 3626 RVA: 0x0004506A File Offset: 0x0004326A
		internal static void AutoGeneratedStaticCollectObjectsStanceLink(object o, List<object> collectedObjects)
		{
			((StanceLink)o).AutoGeneratedInstanceCollectObjects(collectedObjects);
		}

		// Token: 0x06000E2B RID: 3627 RVA: 0x00045078 File Offset: 0x00043278
		protected virtual void AutoGeneratedInstanceCollectObjects(List<object> collectedObjects)
		{
			CampaignTime.AutoGeneratedStaticCollectObjectsCampaignTime(this._warStartDate, collectedObjects);
			CampaignTime.AutoGeneratedStaticCollectObjectsCampaignTime(this._peaceDeclarationDate, collectedObjects);
			collectedObjects.Add(this.Faction1);
			collectedObjects.Add(this.Faction2);
		}

		// Token: 0x06000E2C RID: 3628 RVA: 0x000450B4 File Offset: 0x000432B4
		internal static object AutoGeneratedGetMemberValueFaction1(object o)
		{
			return ((StanceLink)o).Faction1;
		}

		// Token: 0x06000E2D RID: 3629 RVA: 0x000450C1 File Offset: 0x000432C1
		internal static object AutoGeneratedGetMemberValueFaction2(object o)
		{
			return ((StanceLink)o).Faction2;
		}

		// Token: 0x06000E2E RID: 3630 RVA: 0x000450CE File Offset: 0x000432CE
		internal static object AutoGeneratedGetMemberValueBehaviorPriority(object o)
		{
			return ((StanceLink)o).BehaviorPriority;
		}

		// Token: 0x06000E2F RID: 3631 RVA: 0x000450E0 File Offset: 0x000432E0
		internal static object AutoGeneratedGetMemberValue_stanceType(object o)
		{
			return ((StanceLink)o)._stanceType;
		}

		// Token: 0x06000E30 RID: 3632 RVA: 0x000450F2 File Offset: 0x000432F2
		internal static object AutoGeneratedGetMemberValue_isAtConstantWar(object o)
		{
			return ((StanceLink)o)._isAtConstantWar;
		}

		// Token: 0x06000E31 RID: 3633 RVA: 0x00045104 File Offset: 0x00043304
		internal static object AutoGeneratedGetMemberValue_warStartDate(object o)
		{
			return ((StanceLink)o)._warStartDate;
		}

		// Token: 0x06000E32 RID: 3634 RVA: 0x00045116 File Offset: 0x00043316
		internal static object AutoGeneratedGetMemberValue_peaceDeclarationDate(object o)
		{
			return ((StanceLink)o)._peaceDeclarationDate;
		}

		// Token: 0x06000E33 RID: 3635 RVA: 0x00045128 File Offset: 0x00043328
		internal static object AutoGeneratedGetMemberValue_casualties1(object o)
		{
			return ((StanceLink)o)._casualties1;
		}

		// Token: 0x06000E34 RID: 3636 RVA: 0x0004513A File Offset: 0x0004333A
		internal static object AutoGeneratedGetMemberValue_casualties2(object o)
		{
			return ((StanceLink)o)._casualties2;
		}

		// Token: 0x06000E35 RID: 3637 RVA: 0x0004514C File Offset: 0x0004334C
		internal static object AutoGeneratedGetMemberValue_successfulSieges1(object o)
		{
			return ((StanceLink)o)._successfulSieges1;
		}

		// Token: 0x06000E36 RID: 3638 RVA: 0x0004515E File Offset: 0x0004335E
		internal static object AutoGeneratedGetMemberValue_successfulSieges2(object o)
		{
			return ((StanceLink)o)._successfulSieges2;
		}

		// Token: 0x06000E37 RID: 3639 RVA: 0x00045170 File Offset: 0x00043370
		internal static object AutoGeneratedGetMemberValue_successfulRaids1(object o)
		{
			return ((StanceLink)o)._successfulRaids1;
		}

		// Token: 0x06000E38 RID: 3640 RVA: 0x00045182 File Offset: 0x00043382
		internal static object AutoGeneratedGetMemberValue_successfulRaids2(object o)
		{
			return ((StanceLink)o)._successfulRaids2;
		}

		// Token: 0x06000E39 RID: 3641 RVA: 0x00045194 File Offset: 0x00043394
		internal static object AutoGeneratedGetMemberValue_totalTributePaidby1(object o)
		{
			return ((StanceLink)o)._totalTributePaidby1;
		}

		// Token: 0x06000E3A RID: 3642 RVA: 0x000451A6 File Offset: 0x000433A6
		internal static object AutoGeneratedGetMemberValue_totalTributePaidby2(object o)
		{
			return ((StanceLink)o)._totalTributePaidby2;
		}

		// Token: 0x06000E3B RID: 3643 RVA: 0x000451B8 File Offset: 0x000433B8
		internal static object AutoGeneratedGetMemberValue_dailyTributeFrom1To2(object o)
		{
			return ((StanceLink)o)._dailyTributeFrom1To2;
		}

		// Token: 0x1700036D RID: 877
		// (get) Token: 0x06000E3C RID: 3644 RVA: 0x000451CA File Offset: 0x000433CA
		// (set) Token: 0x06000E3D RID: 3645 RVA: 0x000451D2 File Offset: 0x000433D2
		public bool IsAtConstantWar
		{
			get
			{
				return this._isAtConstantWar;
			}
			set
			{
				this._isAtConstantWar = value;
				if (value)
				{
					this.IsAtWar = true;
				}
			}
		}

		// Token: 0x1700036E RID: 878
		// (get) Token: 0x06000E3E RID: 3646 RVA: 0x000451E5 File Offset: 0x000433E5
		// (set) Token: 0x06000E3F RID: 3647 RVA: 0x000451F0 File Offset: 0x000433F0
		internal StanceType StanceType
		{
			get
			{
				return this._stanceType;
			}
			set
			{
				if (this._stanceType != value)
				{
					if (this._stanceType == StanceType.War)
					{
						this.ResetStats();
						this.PeaceDeclarationDate = CampaignTime.Now;
					}
					this._stanceType = value;
					if (this._stanceType == StanceType.War)
					{
						this.ResetStats();
						this.WarStartDate = CampaignTime.Now;
					}
					CampaignEventDispatcher.Instance.OnMapEventContinuityNeedsUpdate(this.Faction1);
				}
			}
		}

		// Token: 0x06000E40 RID: 3648 RVA: 0x00045254 File Offset: 0x00043454
		private void ResetStats()
		{
			this.Casualties1 = 0;
			this.Casualties2 = 0;
			this.SuccessfulRaids1 = 0;
			this.SuccessfulRaids2 = 0;
			this.SuccessfulSieges1 = 0;
			this.SuccessfulSieges2 = 0;
			this.TotalTributePaidby1 = 0;
			this.TotalTributePaidby2 = 0;
			this._dailyTributeFrom1To2 = 0;
		}

		// Token: 0x06000E41 RID: 3649 RVA: 0x000452A0 File Offset: 0x000434A0
		internal void ResetPeaceStats()
		{
			this.ResetStats();
			this.PeaceDeclarationDate = CampaignTime.Now;
		}

		// Token: 0x1700036F RID: 879
		// (get) Token: 0x06000E42 RID: 3650 RVA: 0x000452B3 File Offset: 0x000434B3
		// (set) Token: 0x06000E43 RID: 3651 RVA: 0x000452BE File Offset: 0x000434BE
		public bool IsAtWar
		{
			get
			{
				return this._stanceType == StanceType.War;
			}
			set
			{
				this._stanceType = ((!value) ? StanceType.Neutral : StanceType.War);
			}
		}

		// Token: 0x17000370 RID: 880
		// (get) Token: 0x06000E44 RID: 3652 RVA: 0x000452CD File Offset: 0x000434CD
		// (set) Token: 0x06000E45 RID: 3653 RVA: 0x000452D8 File Offset: 0x000434D8
		public bool IsAllied
		{
			get
			{
				return this._stanceType == StanceType.Alliance;
			}
			set
			{
				this._stanceType = ((!value) ? StanceType.Neutral : StanceType.Alliance);
			}
		}

		// Token: 0x17000371 RID: 881
		// (get) Token: 0x06000E46 RID: 3654 RVA: 0x000452E7 File Offset: 0x000434E7
		public bool IsNeutral
		{
			get
			{
				return this._stanceType == StanceType.Neutral;
			}
		}

		// Token: 0x17000372 RID: 882
		// (get) Token: 0x06000E47 RID: 3655 RVA: 0x000452F2 File Offset: 0x000434F2
		// (set) Token: 0x06000E48 RID: 3656 RVA: 0x000452FA File Offset: 0x000434FA
		[SaveableProperty(20)]
		public IFaction Faction1 { get; private set; }

		// Token: 0x17000373 RID: 883
		// (get) Token: 0x06000E49 RID: 3657 RVA: 0x00045303 File Offset: 0x00043503
		// (set) Token: 0x06000E4A RID: 3658 RVA: 0x0004530B File Offset: 0x0004350B
		[SaveableProperty(30)]
		public IFaction Faction2 { get; private set; }

		// Token: 0x17000374 RID: 884
		// (get) Token: 0x06000E4B RID: 3659 RVA: 0x00045314 File Offset: 0x00043514
		// (set) Token: 0x06000E4C RID: 3660 RVA: 0x0004531C File Offset: 0x0004351C
		public CampaignTime WarStartDate
		{
			get
			{
				return this._warStartDate;
			}
			private set
			{
				this._warStartDate = value;
			}
		}

		// Token: 0x17000375 RID: 885
		// (get) Token: 0x06000E4D RID: 3661 RVA: 0x00045325 File Offset: 0x00043525
		// (set) Token: 0x06000E4E RID: 3662 RVA: 0x0004532D File Offset: 0x0004352D
		public CampaignTime PeaceDeclarationDate
		{
			get
			{
				return this._peaceDeclarationDate;
			}
			private set
			{
				this._peaceDeclarationDate = value;
			}
		}

		// Token: 0x17000376 RID: 886
		// (get) Token: 0x06000E4F RID: 3663 RVA: 0x00045336 File Offset: 0x00043536
		// (set) Token: 0x06000E50 RID: 3664 RVA: 0x0004533E File Offset: 0x0004353E
		public int Casualties1
		{
			get
			{
				return this._casualties1;
			}
			set
			{
				this._casualties1 = value;
			}
		}

		// Token: 0x17000377 RID: 887
		// (get) Token: 0x06000E51 RID: 3665 RVA: 0x00045347 File Offset: 0x00043547
		// (set) Token: 0x06000E52 RID: 3666 RVA: 0x0004534F File Offset: 0x0004354F
		public int Casualties2
		{
			get
			{
				return this._casualties2;
			}
			set
			{
				this._casualties2 = value;
			}
		}

		// Token: 0x06000E53 RID: 3667 RVA: 0x00045358 File Offset: 0x00043558
		public int GetCasualties(IFaction faction)
		{
			if (faction == this.Faction1)
			{
				return this._casualties1;
			}
			if (faction != this.Faction2)
			{
				return 0;
			}
			return this._casualties2;
		}

		// Token: 0x17000378 RID: 888
		// (get) Token: 0x06000E54 RID: 3668 RVA: 0x0004537B File Offset: 0x0004357B
		// (set) Token: 0x06000E55 RID: 3669 RVA: 0x00045383 File Offset: 0x00043583
		public int SuccessfulSieges1
		{
			get
			{
				return this._successfulSieges1;
			}
			set
			{
				this._successfulSieges1 = value;
			}
		}

		// Token: 0x17000379 RID: 889
		// (get) Token: 0x06000E56 RID: 3670 RVA: 0x0004538C File Offset: 0x0004358C
		// (set) Token: 0x06000E57 RID: 3671 RVA: 0x00045394 File Offset: 0x00043594
		public int SuccessfulSieges2
		{
			get
			{
				return this._successfulSieges2;
			}
			set
			{
				this._successfulSieges2 = value;
			}
		}

		// Token: 0x06000E58 RID: 3672 RVA: 0x0004539D File Offset: 0x0004359D
		public int GetSuccessfulSieges(IFaction faction)
		{
			if (faction == this.Faction1)
			{
				return this._successfulSieges1;
			}
			if (faction != this.Faction2)
			{
				return 0;
			}
			return this._successfulSieges2;
		}

		// Token: 0x1700037A RID: 890
		// (get) Token: 0x06000E59 RID: 3673 RVA: 0x000453C0 File Offset: 0x000435C0
		// (set) Token: 0x06000E5A RID: 3674 RVA: 0x000453C8 File Offset: 0x000435C8
		public int SuccessfulRaids1
		{
			get
			{
				return this._successfulRaids1;
			}
			set
			{
				this._successfulRaids1 = value;
			}
		}

		// Token: 0x1700037B RID: 891
		// (get) Token: 0x06000E5B RID: 3675 RVA: 0x000453D1 File Offset: 0x000435D1
		// (set) Token: 0x06000E5C RID: 3676 RVA: 0x000453D9 File Offset: 0x000435D9
		public int SuccessfulRaids2
		{
			get
			{
				return this._successfulRaids2;
			}
			set
			{
				this._successfulRaids2 = value;
			}
		}

		// Token: 0x06000E5D RID: 3677 RVA: 0x000453E2 File Offset: 0x000435E2
		public int GetSuccessfulRaids(IFaction faction)
		{
			if (faction == this.Faction1)
			{
				return this._successfulRaids1;
			}
			if (faction != this.Faction2)
			{
				return 0;
			}
			return this._successfulRaids2;
		}

		// Token: 0x1700037C RID: 892
		// (get) Token: 0x06000E5E RID: 3678 RVA: 0x00045405 File Offset: 0x00043605
		// (set) Token: 0x06000E5F RID: 3679 RVA: 0x0004540D File Offset: 0x0004360D
		public int TotalTributePaidby1
		{
			get
			{
				return this._totalTributePaidby1;
			}
			set
			{
				this._totalTributePaidby1 = value;
			}
		}

		// Token: 0x1700037D RID: 893
		// (get) Token: 0x06000E60 RID: 3680 RVA: 0x00045416 File Offset: 0x00043616
		// (set) Token: 0x06000E61 RID: 3681 RVA: 0x0004541E File Offset: 0x0004361E
		public int TotalTributePaidby2
		{
			get
			{
				return this._totalTributePaidby2;
			}
			set
			{
				this._totalTributePaidby2 = value;
			}
		}

		// Token: 0x06000E62 RID: 3682 RVA: 0x00045427 File Offset: 0x00043627
		public int GetTotalTributePaid(IFaction faction)
		{
			if (faction == this.Faction1)
			{
				return this._totalTributePaidby1;
			}
			if (faction != this.Faction2)
			{
				return 0;
			}
			return this._totalTributePaidby2;
		}

		// Token: 0x1700037E RID: 894
		// (get) Token: 0x06000E63 RID: 3683 RVA: 0x0004544A File Offset: 0x0004364A
		// (set) Token: 0x06000E64 RID: 3684 RVA: 0x00045452 File Offset: 0x00043652
		private int DailyTributeFrom1To2
		{
			get
			{
				return this._dailyTributeFrom1To2;
			}
			set
			{
				this._dailyTributeFrom1To2 = value;
			}
		}

		// Token: 0x1700037F RID: 895
		// (get) Token: 0x06000E65 RID: 3685 RVA: 0x0004545B File Offset: 0x0004365B
		// (set) Token: 0x06000E66 RID: 3686 RVA: 0x00045464 File Offset: 0x00043664
		private int DailyTributeFrom2To1
		{
			get
			{
				return -this._dailyTributeFrom1To2;
			}
			set
			{
				this._dailyTributeFrom1To2 = -value;
			}
		}

		// Token: 0x06000E67 RID: 3687 RVA: 0x0004546E File Offset: 0x0004366E
		public int GetDailyTributePaid(IFaction faction)
		{
			if (faction == this.Faction1)
			{
				return this.DailyTributeFrom1To2;
			}
			if (faction != this.Faction2)
			{
				return 0;
			}
			return this.DailyTributeFrom2To1;
		}

		// Token: 0x06000E68 RID: 3688 RVA: 0x00045491 File Offset: 0x00043691
		public void SetDailyTributePaid(IFaction payer, int dailyTribute)
		{
			this.DailyTributeFrom1To2 = ((payer == this.Faction1) ? dailyTribute : ((payer == this.Faction2) ? (-dailyTribute) : 0));
		}

		// Token: 0x06000E69 RID: 3689 RVA: 0x000454B3 File Offset: 0x000436B3
		internal StanceLink(StanceType stanceType, IFaction faction1, IFaction faction2, bool isAtConstantWar)
		{
			this._stanceType = stanceType;
			this.Faction1 = faction1;
			this.Faction2 = faction2;
			this._isAtConstantWar = isAtConstantWar;
		}

		// Token: 0x04000417 RID: 1047
		[SaveableField(0)]
		private StanceType _stanceType;

		// Token: 0x04000418 RID: 1048
		[SaveableField(1)]
		private bool _isAtConstantWar;

		// Token: 0x04000419 RID: 1049
		[SaveableField(3)]
		public int BehaviorPriority;

		// Token: 0x0400041C RID: 1052
		[SaveableField(40)]
		private CampaignTime _warStartDate;

		// Token: 0x0400041D RID: 1053
		[SaveableField(50)]
		private CampaignTime _peaceDeclarationDate;

		// Token: 0x0400041E RID: 1054
		[SaveableField(60)]
		private int _casualties1;

		// Token: 0x0400041F RID: 1055
		[SaveableField(70)]
		private int _casualties2;

		// Token: 0x04000420 RID: 1056
		[SaveableField(110)]
		private int _successfulSieges1;

		// Token: 0x04000421 RID: 1057
		[SaveableField(120)]
		private int _successfulSieges2;

		// Token: 0x04000422 RID: 1058
		[SaveableField(130)]
		private int _successfulRaids1;

		// Token: 0x04000423 RID: 1059
		[SaveableField(140)]
		private int _successfulRaids2;

		// Token: 0x04000424 RID: 1060
		[SaveableField(200)]
		private int _totalTributePaidby1;

		// Token: 0x04000425 RID: 1061
		[SaveableField(210)]
		private int _totalTributePaidby2;

		// Token: 0x04000426 RID: 1062
		[SaveableField(220)]
		private int _dailyTributeFrom1To2;
	}
}
