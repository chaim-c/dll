using System;
using System.Collections.Generic;
using TaleWorlds.CampaignSystem.Election;
using TaleWorlds.Localization;
using TaleWorlds.SaveSystem;

namespace TaleWorlds.CampaignSystem.LogEntries
{
	// Token: 0x020002DA RID: 730
	public class KingdomDecisionConcludedLogEntry : LogEntry, IChatNotification
	{
		// Token: 0x06002ADB RID: 10971 RVA: 0x000B64CD File Offset: 0x000B46CD
		internal static void AutoGeneratedStaticCollectObjectsKingdomDecisionConcludedLogEntry(object o, List<object> collectedObjects)
		{
			((KingdomDecisionConcludedLogEntry)o).AutoGeneratedInstanceCollectObjects(collectedObjects);
		}

		// Token: 0x06002ADC RID: 10972 RVA: 0x000B64DB File Offset: 0x000B46DB
		protected override void AutoGeneratedInstanceCollectObjects(List<object> collectedObjects)
		{
			base.AutoGeneratedInstanceCollectObjects(collectedObjects);
			collectedObjects.Add(this.Kingdom);
			collectedObjects.Add(this._notificationText);
		}

		// Token: 0x06002ADD RID: 10973 RVA: 0x000B64FC File Offset: 0x000B46FC
		internal static object AutoGeneratedGetMemberValueKingdom(object o)
		{
			return ((KingdomDecisionConcludedLogEntry)o).Kingdom;
		}

		// Token: 0x06002ADE RID: 10974 RVA: 0x000B6509 File Offset: 0x000B4709
		internal static object AutoGeneratedGetMemberValue_isVisibleNotification(object o)
		{
			return ((KingdomDecisionConcludedLogEntry)o)._isVisibleNotification;
		}

		// Token: 0x06002ADF RID: 10975 RVA: 0x000B651B File Offset: 0x000B471B
		internal static object AutoGeneratedGetMemberValue_notificationText(object o)
		{
			return ((KingdomDecisionConcludedLogEntry)o)._notificationText;
		}

		// Token: 0x17000A92 RID: 2706
		// (get) Token: 0x06002AE0 RID: 10976 RVA: 0x000B6528 File Offset: 0x000B4728
		public override CampaignTime KeepInHistoryTime
		{
			get
			{
				return CampaignTime.Weeks(1f);
			}
		}

		// Token: 0x17000A93 RID: 2707
		// (get) Token: 0x06002AE1 RID: 10977 RVA: 0x000B6534 File Offset: 0x000B4734
		public bool IsVisibleNotification
		{
			get
			{
				return this._isVisibleNotification;
			}
		}

		// Token: 0x17000A94 RID: 2708
		// (get) Token: 0x06002AE2 RID: 10978 RVA: 0x000B653C File Offset: 0x000B473C
		public override ChatNotificationType NotificationType
		{
			get
			{
				return base.PoliticalNotification(this.Kingdom);
			}
		}

		// Token: 0x06002AE3 RID: 10979 RVA: 0x000B654A File Offset: 0x000B474A
		public KingdomDecisionConcludedLogEntry(KingdomDecision decision, DecisionOutcome chosenOutcome, bool isPlayerInvolved)
		{
			this.Kingdom = decision.Kingdom;
			this._isVisibleNotification = !isPlayerInvolved;
			this._notificationText = decision.GetChosenOutcomeText(chosenOutcome, decision.SupportStatusOfFinalDecision, true);
		}

		// Token: 0x06002AE4 RID: 10980 RVA: 0x000B657C File Offset: 0x000B477C
		public override string ToString()
		{
			return this.GetNotificationText().ToString();
		}

		// Token: 0x06002AE5 RID: 10981 RVA: 0x000B6589 File Offset: 0x000B4789
		public TextObject GetNotificationText()
		{
			return this._notificationText;
		}

		// Token: 0x04000CDB RID: 3291
		[SaveableField(1)]
		public readonly Kingdom Kingdom;

		// Token: 0x04000CDC RID: 3292
		[SaveableField(3)]
		private readonly bool _isVisibleNotification;

		// Token: 0x04000CDD RID: 3293
		[SaveableField(4)]
		private readonly TextObject _notificationText;
	}
}
